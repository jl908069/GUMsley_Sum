<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUMReader</title>
    <style>
        /* Basic styles for demonstration */
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        h1 {
            font-size: 32px; /* Larger font size for h1 */
            color: #ffffff; /* White color for h1 text */
            background-color: #2d406d; /* Light navy blue background color for h1 */
            padding: 10px; /* Add padding for better visibility */
        }
        h2 {
            font-size: 24px; /* Larger font size for h2 */
            background-color: #eed9c4;
            padding: 10px; /* Add padding for better visibility */
        }
        h3 {
            font-size: 20px; /* Larger font size for h3 */
        }
        h4 {
            font-size: 16px; /* Larger font size for h4 */
            color: #ffffff;    
            background-color: #2d406d;
        }
        #documentContent {
            font-size: 24px; /* Larger font size for document content */
        }
        .tablink {
            padding: 12px 24px; /* Increased padding for larger buttons */
            font-size: 20px; /* Larger font size for button text */
            margin: 5px; /* Adjust margin between buttons */
            margin-bottom: 10px; /* Add margin at bottom of each button */
        }
        /* Change background color of buttons on hover */
        .tab button:hover {
            background-color: #ddd;
        }
    </style>
</head>
<body>
    <h1>GUM Full Text Reader</h1>
    <h2>Click the button and scroll down to read the document </h2>

    <div id="buttonsContainer"></div> <!-- Uncommented container for buttons -->

    <script>
        window.onload = function() {
            var buttonsContainer = document.getElementById("buttonsContainer");

            // Fetch HTML files from the ./html directory
            fetch("./html")
                .then(response => response.text())
                .then(data => {
                    // Parse the directory listing HTML content
                    var parser = new DOMParser();
                    var htmlContent = parser.parseFromString(data, "text/html");

                    // Extract filenames from the directory listing
                    var filenames = Array.from(htmlContent.querySelectorAll("a"))
                        .map(link => link.textContent.trim())
                        .filter(name => name.endsWith(".html"));

                    // Generate buttons for each HTML file
                    filenames.forEach(filename => {
                        var button = document.createElement("button");
                        button.textContent = filename.replace(".html", "");
                        button.className = "tablink";
                        button.onclick = function() {
                            openDocument(filename);
                        };
                        buttonsContainer.appendChild(button);
                    });
                })
                .catch(error => {
                    console.error("Error fetching directory listing:", error);
                });
        };

        function openDocument(filename) {
            var documentContainer = document.getElementById("documentContent");
            documentContainer.innerHTML = "";

            // Fetch the content of the selected HTML file
            fetch("./html/" + filename)
                .then(response => response.text())
                .then(htmlContent => {
                    documentContainer.innerHTML = htmlContent;
                })
                .catch(error => {
                    console.error("Error fetching HTML file:", error);
                });
        }
    </script>
    <h4> Contact yl1290@georgetown.edu if you have any questions! </h4>
</body>
</html>
